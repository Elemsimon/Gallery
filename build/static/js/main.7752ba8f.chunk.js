(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{29:function(e,a,t){e.exports=t.p+"static/media/user.0c039611.svg"},30:function(e,a,t){e.exports=t.p+"static/media/login.aac2a1a6.svg"},32:function(e,a,t){e.exports=t(46)},37:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(26),l=t.n(c),s=(t(37),t(9)),i=function(e){var a=e.handleLogout;return r.a.createElement("div",{className:"title"},r.a.createElement("nav",null,r.a.createElement("h1",null,"FireGram"),r.a.createElement("button",{onClick:a},"Logout")),r.a.createElement("h2",null,"Your Pictures"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit."))},o=t(22),u=t.n(o),m=t(28),d=t(17),p=(t(47),t(48),t(40),d.a.initializeApp({apiKey:"AIzaSyBfBjMeoRPRXcbGgKvmG_Soj3eqXEwbz4U",authDomain:"sim-firegram.firebaseapp.com",projectId:"sim-firegram",storageBucket:"sim-firegram.appspot.com",messagingSenderId:"738870491957",appId:"1:738870491957:web:912fb91dba3e87949d6a7c"})),g=d.a.storage(),f=d.a.firestore(),E=d.a.firestore.FieldValue.serverTimestamp,b=p,h=function(e){var a=Object(n.useState)(0),t=Object(s.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),o=i[0],d=i[1],p=Object(n.useState)(null),b=Object(s.a)(p,2),h=b[0],v=b[1];return Object(n.useEffect)((function(){var a=g.ref(e.name),t=f.collection("images");a.put(e).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;c(a)}),(function(e){d(e)}),Object(m.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDownloadURL();case 2:return n=e.sent,r=E(),e.next=6,t.add({url:n,createdAt:r});case 6:v(n);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:h,error:o}},v=t(53),j=function(e){var a=e.file,t=e.setFile,c=h(a),l=c.progress,s=c.url;return Object(n.useEffect)((function(){s&&t(null)}),[s,t]),r.a.createElement(v.a.div,{className:"progress-bar",initial:{width:0},animate:{width:l+"%"}})},O=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),o=i[0],u=i[1],m=["image/png","image/jpeg"];return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("input",{type:"file",onChange:function(e){var a=e.target.files[0];a&&m.includes(a.type)?(c(a),u("")):(c(null),u("Please select an image file (png or jpg)"))}}),r.a.createElement("span",null,"+")),r.a.createElement("div",{className:"output"},o&&r.a.createElement("div",{className:"error"},o),t&&r.a.createElement("div",null,t.name),t&&r.a.createElement(j,{file:t,setFile:c})))},S=t(2),w=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var a=f.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var a=[];e.forEach((function(e){a.push(Object(S.a)(Object(S.a)({},e.data()),{},{id:e.id}))})),c(a)}));return function(){return a()}}),[e]),{docs:r}},y=function(e){var a=e.setSelectedImg,t=w("images").docs;return r.a.createElement("div",{className:"img-grid"},t&&t.map((function(e){return r.a.createElement(v.a.div,{className:"img-wrap",key:e.id,layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return a(e.url)}},r.a.createElement(v.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}}))})))},k=function(e){var a=e.setSelectedImg,t=e.selectedImg;return r.a.createElement(v.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&a(null)},initial:{opacity:0},animate:{opacity:1}},r.a.createElement(v.a.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}}))};var N=function(e){var a=e.handleLogout,t=Object(n.useState)(null),c=Object(s.a)(t,2),l=c[0],o=c[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(i,{handleLogout:a}),r.a.createElement(O,null),r.a.createElement(y,{setSelectedImg:o}),l&&r.a.createElement(k,{selectedImg:l,setSelectedImg:o})))},C=t(29),I=t.n(C),A=t(30),B=t.n(A),L=t(51),P=t(52),x=t(31),F=t(54),U=t(55),q=function(e){var a=e.email,t=e.setEmail,n=e.password,c=e.setPassword,l=e.handleLogin,s=e.handleSignup,i=e.hasAccount,o=e.setHasAccount,u=e.emailError,m=e.passwordError;return r.a.createElement("div",null,r.a.createElement(L.a,{className:"mt-5"},r.a.createElement(P.a,null,r.a.createElement(x.a,{lg:4,md:6,sm:12,className:"text-center mt-5 p-3"},r.a.createElement("img",{className:"icon-img",src:I.a,alt:"icon"}),r.a.createElement(F.a,null,r.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicEmail"},r.a.createElement(F.a.Control,{type:"email",required:!0,placeholder:"Enter email",value:a,onChange:function(e){return t(e.target.value)}}),r.a.createElement("p",{className:"errorMsg"},u)),r.a.createElement(F.a.Group,{className:"mb-3",controlId:"formBasicPassword"},r.a.createElement(F.a.Control,{type:"password",required:!0,placeholder:"Password",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("p",{className:"errorMsg"},m)),r.a.createElement("div",{className:"btnContainer"},i?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"log",variant:"primary btn-block",onClick:l}," Sign in "),r.a.createElement("p",null,"Don't have an account?",r.a.createElement("span",{onClick:function(){return o(!i)}},"Sign up"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"out",variant:"primary btn-block",onClick:s}," Sign up "),r.a.createElement("p",null,"Don't have an account?",r.a.createElement("span",{onClick:function(){return o(!i)}},"Sign in")))))),r.a.createElement(x.a,{lg:8,md:6,sm:12},r.a.createElement("img",{className:"w-100",src:B.a,alt:""})))))};var D=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],g=d[1],f=Object(n.useState)(""),E=Object(s.a)(f,2),h=E[0],v=E[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),S=O[0],w=O[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),C=k[0],I=k[1],A=function(){v(""),w("")},B=function(){b.auth().onAuthStateChanged((function(e){e?(u(""),g(""),c(e)):c("")}))};return Object(n.useEffect)((function(){B()}),[]),r.a.createElement("div",{className:"App"},t?r.a.createElement(N,{handleLogout:function(){b.auth().signOut()}}):r.a.createElement(q,{email:o,setEmail:u,password:p,setPassword:g,handleLogin:function(){A(),b.auth().signInWithEmailAndPassword(o,p).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":v(e.message);break;case"auth/wrong-password":w(e.message)}}))},handleSignup:function(){A(),b.auth().createUserWithEmailAndPassword(o,p).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":v(e.message);break;case"auth/weak-password":w(e.message)}}))},hasAccount:C,setHasAccount:I,emailError:h,passwordError:S}),";")};t(45);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null),r.a.createElement("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",integrity:"sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3",crossorigin:"anonymous"})),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7752ba8f.chunk.js.map